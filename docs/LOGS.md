# 开发日志

## 12.13

1. 多只股票共同分析也是可行的，投资者对单只股票的投资模式在多支股票上也有反映，对于小盘股来说，游资的炒作行为是可以复制的，所以更能够发现其投资行为的相同点，而大盘股可能游资的行为并不明显，但是市场和经济、行业形势对其影响应该是相类似的，而且通过多个股票使用同一个模型还可以共享权重，增加数据量。

2. 多支股票分析就涉及到一个问题，股票本身需要编码，用编码区分股票，这里我们使用基本信息字典的形式，通过area 所在地域 industry 所属行业两个分量，使用onehot编码股票池内所有股票，生成股票编码信息。

3. 将股票的日线行情信息作为主要信息，其中与价格相关的信息以收盘价为基准取差值或比值，与成交量相关的信息取log，降低信息的数量级。

4. 股票的技术指标、fft变换、基本面、市场资金、公司财务、融资融券、宏观经济等数据，通过PCA降维后作为特征与主要特征拼接。

## 12.15

1. 日行情数据需要完整保留，时间编码继续保留，其他特征按照PCA进行降维，降维之后的数据还需要进行标准化。

2. 还是先使用baseline验证整个流程，对预测模型验证其预测未来股价的走势情况。


## 12.17

1. 基础的特征要仔细考虑，行情还是准备用差额和差比作为特征，反应一个波动情况，差比仍然放大到(-1, 1)的范围。

2. 参考PGprofolio的实现方式，先对单一股票进行预测

3. 标签数据仍然保留三种形式：真实值、差值、百分比缩放。

4. 对于特征的理解：行情数据是第一位的，需要保留行情以及行情的变化情况特征，其他基本面、技术面、财务、市场、宏观经济情况作为other features进行PCA处理，同时需要对大数量级的数据进行对数缩放；需要预测的指标为close price，同时也有三种表示方法：真值、差值、比值。

5. 目前，先实现一个多支股多模型的架构，这样便于在多支股票中进行预测和模型选择，并且避免了交叉迁移训练带来的精度损失。

## 12.21

1. 完成股市建模，降维方法可以再尝试LDA，目前使用PCA

2. 时间特征的编码表现出一定优势，而且经过降维处理之后，模型效果更好。目前在预测5*5=25天股价问题上，拟合度非常高。

3. 股价模型可以支持多只股票，每个股票不同的模型参数，单独训练，单独预测，达到了预期。

4. 下一步可以就PGportfolio Management问题进行模型的搭建。

